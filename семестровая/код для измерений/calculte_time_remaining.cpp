#include <iostream>
#include <ctime>
using namespace std;

void addToElement(int T[], int n, int idx, int value); 
int prefixSum(int T[], int r);
int ElemByIdx(int T[], int idx);
void changeValue(int T[], int n, int idx, int value);
int sumSlice(int T[], int idx1, int idx2);
int *initFenwickTreeFromArray(int a[], int n);
int *createFenwickTree(int n);

int main() {
    setlocale(LC_ALL, "ru");

    int data[] = {854051, 845078, 126532, 496218, 901719, 523194, 663913, 962160, 908155, 593619, 911714, 71677, 580945, 99212, 711253, 667939, 100997, 168238, 569197, 131346, 901203, 69083, 564554, 831248, 858960, 263881, 887851, 852085, 927201, 776123, 504648, 271328, 219743, 902691, 271325, 785607, 392763, 462387, 370272, 122251, 117242, 329848, 568017, 425147, 206252, 181446, 311817, 388723, 566991, 979693, 90383, 996378, 722482, 833797, 17942, 427921, 831798, 127208, 790679, 681638, 831022, 114418, 383849, 140103, 155349, 633729, 369266, 148617, 285965, 200944, 410597, 893930, 651901, 250656, 801605, 216279, 464497, 88251, 282855, 460398, 589931, 941816, 29831, 665275, 342813, 475870, 716928, 846652, 710379, 682544, 720078, 628745, 922715, 360694, 537341, 216883, 657060, 596910, 810053, 201920, 837750, 476111, 778588, 41965, 495216, 925201, 601333, 683420, 773190, 289182, 935467, 872983, 934016, 250246, 48566, 270474, 275769, 516491, 145666, 490510, 443077, 751624, 536373, 724747, 62635, 117113, 925031, 850330, 424323, 594285, 953743, 663312, 306457, 570656, 988743, 354870, 920245, 596673, 122431, 277738, 783886, 239296, 899835, 499796, 166445, 950594, 820843, 130936, 467406, 904852, 336712, 833190, 369176, 30427, 974084, 833341, 214495, 494732, 967774, 762019, 635413, 836511, 534114, 816365, 871163, 962875, 69213, 348054, 199183, 748940, 49138, 139981, 904903, 218622, 780873, 188706, 238321, 304154, 277413, 261621, 528432, 231049, 688192, 489065, 505387, 545172, 714617, 109853, 270617, 522941, 886513, 1109, 179662, 472882, 289648, 259440, 49956, 596622, 970501, 257433, 557457, 159665, 527717, 556070, 627298, 87043, 507341, 778610, 309899, 291564, 285955, 468128, 576506, 891481, 429487, 407474, 838334, 476085, 325920, 103067, 532340, 294817, 28703, 172120, 958528, 662309, 71304, 523102, 582976, 573290, 388160, 82084, 850343, 967808, 350963, 572170, 530374, 998073, 137606, 358486, 931862, 752113, 92219, 792296, 16148, 218922, 261990, 659561, 386185, 964888, 279941, 823937, 854051, 845078, 126532, 496218, 901719, 523194, 663913, 962160, 908155, 593619, 911714, 71677, 580945, 99212, 711253, 667939, 100997, 168238, 569197, 131346, 901203, 69083, 564554, 831248, 858960, 263881, 887851, 852085, 927201, 776123, 504648, 271328, 219743, 902691, 271325, 785607, 392763, 462387, 370272, 122251, 117242, 329848, 568017, 425147, 206252, 181446, 311817, 388723, 566991, 979693, 90383, 996378, 722482, 833797, 17942, 427921, 831798, 127208, 790679, 681638, 831022, 114418, 383849, 140103, 155349, 633729, 369266, 148617, 285965, 200944, 410597, 893930, 651901, 250656, 801605, 216279, 464497, 88251, 282855, 460398, 589931, 941816, 29831, 665275, 342813, 475870, 716928, 846652, 710379, 682544, 720078, 628745, 922715, 360694, 537341, 216883, 657060, 596910, 810053, 201920, 837750, 476111, 778588, 41965, 495216, 925201, 601333, 683420, 773190, 289182, 935467, 872983, 934016, 250246, 48566, 270474, 275769, 516491, 145666, 490510, 443077, 751624, 536373, 724747, 62635, 117113, 925031, 850330, 424323, 594285, 953743, 663312, 306457, 570656, 988743, 354870, 920245, 596673, 122431, 277738, 783886, 239296, 899835, 499796, 166445, 950594, 820843, 130936, 467406, 904852, 336712, 833190, 369176, 30427, 974084, 833341, 214495, 494732, 967774, 762019, 635413, 836511, 534114, 816365, 871163, 962875, 69213, 348054, 199183, 748940, 49138, 139981, 904903, 218622, 780873, 188706, 238321, 304154, 277413, 261621, 528432, 231049, 688192, 489065, 505387, 545172, 714617, 109853, 270617, 522941, 886513, 1109, 179662, 472882, 289648, 259440, 49956, 596622, 970501, 257433, 557457, 159665, 527717, 556070, 627298, 87043, 507341, 778610, 309899, 291564, 285955, 468128, 576506, 891481, 429487, 407474, 838334, 476085, 325920, 103067, 532340, 294817, 28703, 172120, 958528, 662309, 71304, 523102, 582976, 573290, 388160, 82084, 850343, 967808, 350963, 572170, 530374, 998073, 137606, 358486, 931862, 752113, 92219, 792296, 16148, 218922, 261990, 659561, 386185, 964888, 279941, 823937, 854051, 845078, 126532, 496218, 901719, 523194, 663913, 962160, 908155, 593619, 911714, 71677, 580945, 99212, 711253, 667939, 100997, 168238, 569197, 131346, 901203, 69083, 564554, 831248, 858960, 263881, 887851, 852085, 927201, 776123, 504648, 271328, 219743, 902691, 271325, 785607, 392763, 462387, 370272, 122251, 117242, 329848, 568017, 425147, 206252, 181446, 311817, 388723, 566991, 979693, 90383, 996378, 722482, 833797, 17942, 427921, 831798, 127208, 790679, 681638, 831022, 114418, 383849, 140103, 155349, 633729, 369266, 148617, 285965, 200944, 410597, 893930, 651901, 250656, 801605, 216279, 464497, 88251, 282855, 460398, 589931, 941816, 29831, 665275, 342813, 475870, 716928, 846652, 710379, 682544, 720078, 628745, 922715, 360694, 537341, 216883, 657060, 596910, 810053, 201920, 837750, 476111, 778588, 41965, 495216, 925201, 601333, 683420, 773190, 289182, 935467, 872983, 934016, 250246, 48566, 270474, 275769, 516491, 145666, 490510, 443077, 751624, 536373, 724747, 62635, 117113, 925031, 850330, 424323, 594285, 953743, 663312, 306457, 570656, 988743, 354870, 920245, 596673, 122431, 277738, 783886, 239296, 899835, 499796, 166445, 950594, 820843, 130936, 467406, 904852, 336712, 833190, 369176, 30427, 974084, 833341, 214495, 494732, 967774, 762019, 635413, 836511, 534114, 816365, 871163, 962875, 69213, 348054, 199183, 748940, 49138, 139981, 904903, 218622, 780873, 188706, 238321, 304154, 277413, 261621, 528432, 231049, 688192, 489065, 505387, 545172, 714617, 109853, 270617, 522941, 886513, 1109, 179662, 472882, 289648, 259440, 49956, 596622, 970501, 257433, 557457, 159665, 527717, 556070, 627298, 87043, 507341, 778610, 309899, 291564, 285955, 468128, 576506, 891481, 429487, 407474, 838334, 476085, 325920, 103067, 532340, 294817, 28703, 172120, 958528, 662309, 71304, 523102, 582976, 573290, 388160, 82084, 850343, 967808, 350963, 572170, 530374, 998073, 137606, 358486, 931862, 752113, 92219, 792296, 16148, 218922, 261990, 659561, 386185, 964888, 279941, 823937, 854051, 845078, 126532, 496218, 901719, 523194, 663913, 962160, 908155, 593619, 911714, 71677, 580945, 99212, 711253, 667939, 100997, 168238, 569197, 131346, 901203, 69083, 564554, 831248, 858960, 263881, 887851, 852085, 927201, 776123, 504648, 271328, 219743, 902691, 271325, 785607, 392763, 462387, 370272, 122251, 117242, 329848, 568017, 425147, 206252, 181446, 311817, 388723, 566991, 979693, 90383, 996378, 722482, 833797, 17942, 427921, 831798, 127208, 790679, 681638, 831022, 114418, 383849, 140103, 155349, 633729, 369266, 148617, 285965, 200944, 410597, 893930, 651901, 250656, 801605, 216279, 464497, 88251, 282855, 460398, 589931, 941816, 29831, 665275, 342813, 475870, 716928, 846652, 710379, 682544, 720078, 628745, 922715, 360694, 537341, 216883, 657060, 596910, 810053, 201920, 837750, 476111, 778588, 41965, 495216, 925201, 601333, 683420, 773190, 289182, 935467, 872983, 934016, 250246, 48566, 270474, 275769, 516491, 145666, 490510, 443077, 751624, 536373, 724747, 62635, 117113, 925031, 850330, 424323, 594285, 953743, 663312, 306457, 570656, 988743, 354870, 920245, 596673, 122431, 277738, 783886, 239296, 899835, 499796, 166445, 950594, 820843, 130936, 467406, 904852, 336712, 833190, 369176, 30427, 974084, 833341, 214495, 494732, 967774, 762019, 635413, 836511, 534114, 816365, 871163, 962875, 69213, 348054, 199183, 748940, 49138, 139981, 904903, 218622, 780873, 188706, 238321, 304154, 277413, 261621, 528432, 231049, 688192, 489065, 505387, 545172, 714617, 109853, 270617, 522941, 886513, 1109, 179662, 472882, 289648, 259440, 49956, 596622, 970501, 257433, 557457, 159665, 527717, 556070, 627298, 87043, 507341, 778610, 309899, 291564, 285955, 468128, 576506, 891481, 429487, 407474, 838334, 476085, 325920, 103067, 532340, 294817, 28703, 172120, 958528, 662309, 71304, 523102, 582976, 573290, 388160, 82084, 850343, 967808, 350963, 572170, 530374, 998073, 137606, 358486, 931862, 752113, 92219, 792296, 16148, 218922, 261990, 659561, 386185, 964888, 279941, 823937, 854051, 845078, 126532, 496218, 901719, 523194, 663913, 962160, 908155, 593619, 911714, 71677, 580945, 99212, 711253, 667939, 100997, 168238, 569197, 131346, 901203, 69083, 564554, 831248, 858960, 263881, 887851, 852085, 927201, 776123, 504648, 271328, 219743, 902691, 271325, 785607, 392763, 462387, 370272, 122251, 117242, 329848, 568017, 425147, 206252, 181446, 311817, 388723, 566991, 979693, 90383, 996378, 722482, 833797, 17942, 427921, 831798, 127208, 790679, 681638, 831022, 114418, 383849, 140103, 155349, 633729, 369266, 148617, 285965, 200944, 410597, 893930, 651901, 250656, 801605, 216279, 464497, 88251, 282855, 460398, 589931, 941816, 29831, 665275, 342813, 475870, 716928, 846652, 710379, 682544, 720078, 628745, 922715, 360694, 537341, 216883, 657060, 596910, 810053, 201920, 837750, 476111, 778588, 41965, 495216, 925201, 601333, 683420, 773190, 289182, 935467, 872983, 934016, 250246, 48566, 270474, 275769, 516491, 145666, 490510, 443077, 751624, 536373, 724747, 62635, 117113, 925031, 850330, 424323, 594285, 953743, 663312, 306457, 570656, 988743, 354870, 920245, 596673, 122431, 277738, 783886, 239296, 899835, 499796, 166445, 950594, 820843, 130936, 467406, 904852, 336712, 833190, 369176, 30427, 974084, 833341, 214495, 494732, 967774, 762019, 635413, 836511, 534114, 816365, 871163, 962875, 69213, 348054, 199183, 748940, 49138, 139981, 904903, 218622, 780873, 188706, 238321, 304154, 277413, 261621, 528432, 231049, 688192, 489065, 505387, 545172, 714617, 109853, 270617, 522941, 886513, 1109, 179662, 472882, 289648, 259440, 49956, 596622, 970501, 257433, 557457, 159665, 527717, 556070, 627298, 87043, 507341, 778610, 309899, 291564, 285955, 468128, 576506, 891481, 429487, 407474, 838334, 476085, 325920, 103067, 532340, 294817, 28703, 172120, 958528, 662309, 71304, 523102, 582976, 573290, 388160, 82084, 850343, 967808, 350963, 572170, 530374, 998073, 137606, 358486, 931862, 752113, 92219, 792296, 16148, 218922, 261990, 659561, 386185, 964888, 279941, 823937, 854051, 845078, 126532, 496218, 901719, 523194, 663913, 962160, 908155, 593619, 911714, 71677, 580945, 99212, 711253, 667939, 100997, 168238, 569197, 131346, 901203, 69083, 564554, 831248, 858960, 263881, 887851, 852085, 927201, 776123, 504648, 271328, 219743, 902691, 271325, 785607, 392763, 462387, 370272, 122251, 117242, 329848, 568017, 425147, 206252, 181446, 311817, 388723, 566991, 979693, 90383, 996378, 722482, 833797, 17942, 427921, 831798, 127208, 790679, 681638, 831022, 114418, 383849, 140103, 155349, 633729, 369266, 148617, 285965, 200944, 410597, 893930, 651901, 250656, 801605, 216279, 464497, 88251, 282855, 460398, 589931, 941816, 29831, 665275, 342813, 475870, 716928, 846652, 710379, 682544, 720078, 628745, 922715, 360694, 537341, 216883, 657060, 596910, 810053, 201920, 837750, 476111, 778588, 41965, 495216, 925201, 601333, 683420, 773190, 289182, 935467, 872983, 934016, 250246, 48566, 270474, 275769, 516491, 145666, 490510, 443077, 751624, 536373, 724747, 62635, 117113, 925031, 850330, 424323, 594285, 953743, 663312, 306457, 570656, 988743, 354870, 920245, 596673, 122431, 277738, 783886, 239296, 899835, 499796, 166445, 950594, 820843, 130936, 467406, 904852, 336712, 833190, 369176, 30427, 974084, 833341, 214495, 494732, 967774, 762019, 635413, 836511, 534114, 816365, 871163, 962875, 69213, 348054, 199183, 748940, 49138, 139981, 904903, 218622, 780873, 188706, 238321, 304154, 277413, 261621, 528432, 231049, 688192, 489065, 505387, 545172, 714617, 109853, 270617, 522941, 886513, 1109, 179662, 472882, 289648, 259440, 49956, 596622, 970501, 257433, 557457, 159665, 527717, 556070, 627298, 87043, 507341, 778610, 309899, 291564, 285955, 468128, 576506, 891481, 429487, 407474, 838334, 476085, 325920, 103067, 532340, 294817, 28703, 172120, 958528, 662309, 71304, 523102, 582976, 573290, 388160, 82084, 850343, 967808, 350963, 572170, 530374, 998073, 137606, 358486, 931862, 752113, 92219, 792296, 16148, 218922, 261990, 659561, 386185, 964888, 279941, 823937, 854051, 845078, 126532, 496218, 901719, 523194, 663913, 962160, 908155, 593619, 911714, 71677, 580945, 99212, 711253, 667939, 100997, 168238, 569197, 131346, 901203, 69083, 564554, 831248, 858960, 263881, 887851, 852085, 927201, 776123, 504648, 271328, 219743, 902691, 271325, 785607, 392763, 462387, 370272, 122251, 117242, 329848, 568017, 425147, 206252, 181446, 311817, 388723, 566991, 979693, 90383, 996378, 722482, 833797, 17942, 427921, 831798, 127208, 790679, 681638, 831022, 114418, 383849, 140103, 155349, 633729, 369266, 148617, 285965, 200944, 410597, 893930, 651901, 250656, 801605, 216279, 464497, 88251, 282855, 460398, 589931, 941816, 29831, 665275, 342813, 475870, 716928, 846652, 710379, 682544, 720078, 628745, 922715, 360694, 537341, 216883, 657060, 596910, 810053, 201920, 837750, 476111, 778588, 41965, 495216, 925201, 601333, 683420, 773190, 289182, 935467, 872983, 934016, 250246, 48566, 270474, 275769, 516491, 145666, 490510, 443077, 751624, 536373, 724747, 62635, 117113, 925031, 850330, 424323, 594285, 953743, 663312, 306457, 570656, 988743, 354870, 920245, 596673, 122431, 277738, 783886, 239296, 899835, 499796, 166445, 950594, 820843, 130936, 467406, 904852, 336712, 833190, 369176, 30427, 974084, 833341, 214495, 494732, 967774, 762019, 635413, 836511, 534114, 816365, 871163, 962875, 69213, 348054, 199183, 748940, 49138, 139981, 904903, 218622, 780873, 188706, 238321, 304154, 277413, 261621, 528432, 231049, 688192, 489065, 505387, 545172, 714617, 109853, 270617, 522941, 886513, 1109, 179662, 472882, 289648, 259440, 49956, 596622, 970501, 257433, 557457, 159665, 527717, 556070, 627298, 87043, 507341, 778610, 309899, 291564, 285955, 468128, 576506, 891481, 429487, 407474, 838334, 476085, 325920, 103067, 532340, 294817, 28703, 172120, 958528, 662309, 71304, 523102, 582976, 573290, 388160, 82084, 850343, 967808, 350963, 572170, 530374, 998073, 137606, 358486, 931862, 752113, 92219, 792296, 16148, 218922, 261990, 659561, 386185, 964888, 279941, 823937, 854051, 845078, 126532, 496218, 901719, 523194, 663913, 962160, 908155, 593619, 911714, 71677, 580945, 99212, 711253, 667939, 100997, 168238, 569197, 131346, 901203, 69083, 564554, 831248, 858960, 263881, 887851, 852085, 927201, 776123, 504648, 271328, 219743, 902691, 271325, 785607, 392763, 462387, 370272, 122251, 117242, 329848, 568017, 425147, 206252, 181446, 311817, 388723, 566991, 979693, 90383, 996378, 722482, 833797, 17942, 427921, 831798, 127208, 790679, 681638, 831022, 114418, 383849, 140103, 155349, 633729, 369266, 148617, 285965, 200944, 410597, 893930, 651901, 250656, 801605, 216279, 464497, 88251, 282855, 460398, 589931, 941816, 29831, 665275, 342813, 475870, 716928, 846652, 710379, 682544, 720078, 628745, 922715, 360694, 537341, 216883, 657060, 596910, 810053, 201920, 837750, 476111, 778588, 41965, 495216, 925201, 601333, 683420, 773190, 289182, 935467, 872983, 934016, 250246, 48566, 270474, 275769, 516491, 145666, 490510, 443077, 751624, 536373, 724747, 62635, 117113, 925031, 850330, 424323, 594285, 953743, 663312, 306457, 570656, 988743, 354870, 920245, 596673, 122431, 277738, 783886, 239296, 899835, 499796, 166445, 950594, 820843, 130936, 467406, 904852, 336712, 833190, 369176, 30427, 974084, 833341, 214495, 494732, 967774, 762019, 635413, 836511, 534114, 816365, 871163, 962875, 69213, 348054, 199183, 748940, 49138, 139981, 904903, 218622, 780873, 188706, 238321, 304154, 277413, 261621, 528432, 231049, 688192, 489065, 505387, 545172, 714617, 109853, 270617, 522941, 886513, 1109, 179662, 472882, 289648, 259440, 49956, 596622, 970501, 257433, 557457, 159665, 527717, 556070, 627298, 87043, 507341, 778610, 309899, 291564, 285955, 468128, 576506, 891481, 429487, 407474, 838334, 476085, 325920, 103067, 532340, 294817, 28703, 172120, 958528, 662309, 71304, 523102, 582976, 573290, 388160, 82084, 850343, 967808, 350963, 572170, 530374, 998073, 137606, 358486, 931862, 752113, 92219, 792296, 16148, 218922, 261990, 659561, 386185, 964888, 279941, 823937};
    int size = sizeof(data)/sizeof(data[0]);

    clock_t begin = clock();
    int *data_t = initFenwickTreeFromArray(data, size);
    clock_t end = clock();
    double time_spent = (double) (end - begin)/CLOCKS_PER_SEC;
    printf("Время выполнения функции initFenwickTreeFromArray (в секундах): %f\n", time_spent);

    begin = clock();
    addToElement(data_t, size, 10, 100);
    end = clock();
    time_spent = (double) (end - begin)/CLOCKS_PER_SEC;
    printf("Время выполнения функции addToElement (в секундах): %f\n", time_spent);

    begin = clock();
    prefixSum(data_t, size - 1);
    end = clock();
    time_spent = (double) (end - begin)/CLOCKS_PER_SEC;
    printf("Время выполнения функции prefixSum (в секундах): %f\n", time_spent);

    begin = clock();
    ElemByIdx(data_t, size - 1);
    end = clock();
    time_spent = (double) (end - begin)/CLOCKS_PER_SEC;
    printf("Время выполнения функции ElemByIdx (в секундах): %f\n", time_spent);

    begin = clock();
    sumSlice(data_t, 10, 100);
    end = clock();
    time_spent = (double) (end - begin)/CLOCKS_PER_SEC;
    printf("Время выполнения функции sumSlice (в секундах): %f\n", time_spent);
}

void addToElement(int T[], int n, int idx, int value) {
    while (idx < n) {
        T[idx] += value;
        idx = idx | (idx + 1);
    }
}

int prefixSum(int T[], int r) {
    int result = 0;
    do {
        result += T[r];
        r = ((r + 1) & r) - 1;
    } while (r > 0);
    return result;
}

int ElemByIdx(int T[], int idx) {
    if (idx <= 0) {
        return prefixSum(T, 0);
    } else {
        return prefixSum(T, idx) - prefixSum(T, idx - 1);
    }
}

void changeValue(int T[], int n, int idx, int value) {
    addToElement(T, n, idx, value - ElemByIdx(T, idx));
}

int sumSlice(int T[], int idx1, int idx2) {
    return prefixSum(T, idx2 - 1) - prefixSum(T, idx1 - 1);
}

int *initFenwickTreeFromArray(int a[], int n) {
    int *T = new int[n];
    for (int i = 0; i < n; i++) {
        T[i] = 0;
    }
    for (int i = 0; i < n; i++) {
        addToElement(T, n, i, a[i]);
    }
    return T;
}

int *createFenwickTree(int n) {
    int *T = new int[n];
    for (int i = 0; i < n; i++) {
        T[i] = 0;
    }
    return T;
}
